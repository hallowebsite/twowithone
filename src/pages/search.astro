---
import { getCollection } from "astro:content";
if (Astro.request.method === "POST") {
  try {
    const languages = await getCollection("languages");
    const slugs = languages.map((lang: any) => lang.slug);
    const data = await Astro.request.formData();
    const language = data.get("language");
    if (slugs.include(language as (typeof slugs)[number])) {
      return Astro.redirect(`/${language}`);
    }
  } catch (error) {
    if (error instanceof Error) {
      console.error(error.message);
    }
  }
}
---

<span>Search for a language:</span>
